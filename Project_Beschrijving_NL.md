# Showcase Climate Controller - Nederlandse Projectbeschrijving

## Vraag

Voor dit project was de opgave om een geavanceerd klimaatcontrolesysteem te ontwikkelen dat in staat is om temperatuur en vochtigheid in een vitrine automatisch te regelen met behulp van PID-controle, sensoren en actuatoren, terwijl het gebruik maakt van een herbruikbare en uitbreidbare softwarearchitectuur. De keuze is gemaakt om de ESP32-S3 microcontroller te gebruiken omdat deze reeds bepaald was in het Casekeeper project en er veel raakvlakken waren tussen beide projecten, waardoor efficiënte hergebruik van bestaande componenten en kennis mogelijk werd. Er is bewust voor gekozen om de Casekeeper projectstructuur als basis te gebruiken vanwege deze raakvlakken, met de intentie om beide projecten te combineren.

## Aanpak

Het project is ontwikkeld met een object-georiënteerde aanpak die zorgt voor hergebruik van bestaande componenten. De software architectuur gebruikt een Device base class met DeviceRegistry singleton patroon (één centrale instantie voor apparaatbeheer) voor het beheren van alle I2C-apparaten (Inter-Integrated Circuit communicatieprotocol) via een I2C multiplexer. De configuratie wordt beheerd via JSON-bestanden op SD-kaart met fallback naar SPIFFS (SPI Flash File System - ingebouwd flashgeheugen voor bestandsopslag). De ClimateController werkt met een cyclische update-methode die periodiek de sensorwaarden inleest van de interne en externe temperatuur en luchtvochtigheid sensoren en op basis van PID-output (Proportional-Integral-Derivative regelalgoritme) de juiste actuatoren aanstuurt. Voor temperatuurcontrole activeert de PID-controller via digitale uitgangen de verwarmings- of koelingsfunctie, terwijl vochtigheidscontrole werkt met hysterese-logica voor de membranen.

## Resultaat

Het resultaat is een volledig functioneel klimaatcontrolesysteem dat automatisch temperatuur en vochtigheid in een vitrine kan regelen. De ClimateController is het hoofddoel van dit project en werkt volgens een geavanceerde regelstrategie die verschillende actuatoren intelligent aanstuurt. Voor temperatuurregeling gebruikt het systeem een geïntegreerde temperatuurcontroller die drie digitale inputs heeft voor modus-selectie (IO4=TemperatureEnable, IO5=TemperatureCool, IO6=TemperatureHeat) en waarvan het vermogen wordt geregeld met een analoog 0-5V signaal (DAC_A=TemperaturePower). De PID-algoritme berekent de benodigde output en bepaalt via de PCF8574 GPIO expander uitgangen welke modus actief moet zijn. De vochtigheidsregeling gebeurt door middel van twee omgekeerd gemonteerde membranen die door de GPIO expander worden aangestuurd (IO2=Humidify, IO3=Dehumidify). Deze membranen werken volgens hysterese-logica: wanneer de luchtvochtigheid te hoog wordt, activeren de membranen om vocht af te voeren, en wanneer deze te laag wordt, kunnen ze vocht toevoegen aan de lucht in de vitrine. Deze aanpak zorgt voor stabiele vochtigheidscontrole zonder constante aan/uit-schakeling. Daarnaast regelt het systeem de luchtstroom via interior en exterior ventilatoren die eveneens door de GPIO expander worden aangestuurd (IO0=FanExterior, IO1=FanInterior). Deze ventilatoren zorgen voor luchtcirculatie binnen de vitrine en kunnen indien nodig externe lucht aanzuigen voor temperatuur- en vochtregeling. Voor meer geavanceerde regeling biedt de DAC (Digital-to-Analog Converter - zet digitale signalen om naar analoge spanning) analoge vermogensregeling (0-5V = 0-100% vermogen) voor extra verwarmings- en koelelementen, waardoor het systeem zeer nauwkeurig kan reageren op klimaatverschillen. De interne en externe temperatuur en luchtvochtigheid sensoren leveren continu nauwkeurige metingen, terwijl het multiplexer systeem zorgt voor betrouwbare I2C-communicatie tussen alle componenten.

## Validatie

Het systeem is gevalideerd door middel van testing van alle hardware componenten en verificatie van de PID-controle algorithmes met de mobiele testopstelling van het prototype. De modulariteit is bevestigd door succesvolle integratie van de Casekeeper projectstructuur. Het systeem toont robuuste prestaties met automatische device discovery, EEPROM-gebaseerde (Electrically Erasable Programmable Read-Only Memory - niet-vluchtig geheugen) configuratieopslag, en MQTT communicatie (Message Queuing Telemetry Transport - lichtgewicht berichtenprotocol) voor remote monitoring.
